<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>

        <style>

            #map {
                height: 400px;
                width: 400px;
            }
        </style>
    </head>
    <body>


        <button onclick="toNextPage()">next page</button>

        <div id="map"></div>


        <script>


			// setTimeout(() => {
			// 	console.log('h');
			// 	setTimeout(() => {
			// 		console.log('e');
			// 		setTimeout(() => {
			// 			console.log('l');
			// 			setTimeout(() => {
			// 				console.log('l');
			// 			}, 1000);
			// 		}, 1000);
			// 	}, 1000);
			// }, 1000);

			// let promise = new Promise((resolve, reject) => {
			//
			// 		setTimeout(() => {
			// 			resolve('h');
			// 		}, 1000);
			//
			// 	}
			// );
			//
			// promise.then((result) => {
			// 		   return new Promise(resolve => {
			// 			   setTimeout(() => {
			// 				   resolve('h');
			// 			   }, 1000);
			// 		   });
			// 	   })
			// 	   .then((result) => {
			// 			   return new Promise((resolve, reject) => {
			// 				   setTimeout(() => {
			// 					   console.log(result);
			// 					   resolve(result + 'e');
			// 				   }, 1000);
			// 			   });
			// 		   }
			// 	   )
			// 	   .then((result /*he*/) => {
			// 		   return new Promise(resolve => {
			// 			   setTimeout(() => {
			// 				   console.log(result);
			// 				   resolve(result + 'l');
			// 			   }, 1000);
			// 		   });
			// 	   })
			// 	   .then((result) => {
			//
			// 		   return result + 'l';
			// 	   })
			// 	   .then(value => console.log(value));

			// let responseFromServer = 'hi';
			//
			// new Promise(resolve => {
			// 	setTimeout(() => {
			// 		resolve(responseFromServer + '-');
			// 	}, 2000);
			//
			// })
			// 	.then(value => /*return*/ value + '!')
			// 	.then(value => /*return*/ value + '?') /*hi-!?*/
			// 	.then(value => /*return*/ value + ')'); /*hi-!?)*/


			// fetch('https://jsonplaceholder.typicode.com/users/1')
			// 	.then(response => response.json())
			// 	.then(user => {
			// 		fetch('https://jsonplaceholder.typicode.com/posts?userId=' + user.id)
			// 			.then(value => value.json())
			// 			.then(allPostsOfUser1 => {
			// 				fetch('http://jsonplaceholder.typicode.com/comments?postId=' + allPostsOfUser1[0].id)
			// 					.then(value => value.json())
			// 					.then(value => console.log(value));
			// 			});
			// 	});


			// fetch('https://jsonplaceholder.typicode.com/users/1')
			// 	.then(response => response.json())
			// 	.then(user => fetch('https://jsonplaceholder.typicode.com/posts?userId=' + user.id))
			// 	.then(value => value.json())
			// 	.then(allPostsOfUser1 => fetch('http://jsonplaceholder.typicode.com/comments?postId=' + allPostsOfUser1[0].id))
			// 	.then(value => value.json())
			// 	.then(posts => console.log(posts));


			// async function doFetch() {
			// 	let user1 = await fetch('https://jsonplaceholder.typicode.com/users/1').then(value => value.json());
			// 	console.log(user1);
			// 	let postsOfUser1 = await fetch('https://jsonplaceholder.typicode.com/posts?userId=' + user1.id).then(value => value.json());
			// 	console.log(postsOfUser1);
			// 	let post = postsOfUser1[0];
			// 	console.log(post);
			// 	let commentsOfPost1OfUser1 = await fetch('https://jsonplaceholder.typicode.com/comments?postId=' + post.id).then(value => value.json());
			// 	console.log(commentsOfPost1OfUser1);
			// }
			//
			// console.log('adsad');
			// doFetch();
			// console.log('wqeqwe');


			// function toNextPage() {
			// 	history.pushState('hello', 'xxx', 'next.html');
			// 	location.href = 'http://localhost:63342/dec-2020-js/lesson9/next.html';
			// }


			let map;

			function initMap() {
				navigator.geolocation.getCurrentPosition(position => {
					map = new google.maps.Map(document.getElementById('map'), {
						center: {lat: position.coords.latitude, lng: position.coords.longitude},
						zoom: 12,
					});
				});
			}
        </script>


        <script async
                src="https://maps.googleapis.com/maps/api/js?callback=initMap">
        </script>


        <video id="video" style="width: 200px;height: 200px;"></video>
        <script>
			navigator
				.mediaDevices
				.getUserMedia({video: true})
				.then(stream => {
					let video = document.getElementById('video');
					video.srcObject = stream;
					video.play();
				}).catch(reason => console.log(reason));

        </script>


    </body>
</html>
